(this["webpackJsonpreact-futbol"]=this["webpackJsonpreact-futbol"]||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),s=n(35),r=n.n(s),i=(n(79),n(15)),o=n(11),l=(n(80),n(17)),u=n(38),j=n.n(u),d=(n(81),n(58));d.a.initializeApp({apiKey:"AIzaSyAtj6621uv5LbOzYPnC7ozX1FbK6QtrEwM",authDomain:"pickup-futbol.firebaseapp.com",databaseURL:"https://pickup-futbol-default-rtdb.firebaseio.com",projectId:"pickup-futbol",storageBucket:"pickup-futbol.appspot.com",messagingSenderId:"950393325921",appId:"1:950393325921:web:5bb039ed92a52eaefe5d20",measurementId:"G-N6263PM8FZ"});var b=n(2),h=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){a(e||null)}))})),n?Object(b.jsxs)("header",{className:j.a.header,children:[Object(b.jsx)("div",{className:j.a.logo,children:"Pickup Futbol"}),Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/home",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/events",children:"Events"})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/",onClick:function(){d.a.auth().signOut().then((function(){console.log("Succesfully Logged Out.")})).catch((function(e){console.log(e.message)}))},children:"Sign Out"})})]})})]}):Object(b.jsxs)("header",{className:j.a.header,children:[Object(b.jsx)("div",{children:Object(b.jsx)(l.b,{className:j.a.logo,to:"/",children:"Pickup Futbol"})}),Object(b.jsx)("nav",{children:Object(b.jsx)("ul",{children:Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/login",children:"Login"})})})})]})};var m=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{}),Object(b.jsx)("main",{children:e.children}),Object(b.jsx)("footer",{style:{position:"static",bottom:20,textAlign:"center",width:"100%"},children:Object(b.jsx)("p",{children:"\xa9 Carlos Alberto Espana Jr."})})]})},f=n(62),O=n.n(f),x=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];function s(){d.a.auth().onAuthStateChanged((function(e){var t;e&&(t=e.uid,d.a.database().ref("users/"+t).once("value",(function(e){a(e.val())})))}))}return Object(c.useEffect)((function(){s()})),Object(b.jsxs)("div",{className:O.a.container,children:[Object(b.jsxs)("h1",{className:O.a.welcome,children:["Welcome ",n.fname," ",n.lname]}),Object(b.jsx)("p",{style:{textAlign:"center"},children:"Click on the events tab to checkout upcoming events or create one!"})]})},v=n(32),p=n.n(v),_=function(e){e.member,e.findMember;var t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(o.f)();return Object(b.jsxs)("div",{className:p.a.container,children:[Object(b.jsx)("h1",{className:p.a.welcome,children:"Login"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={email:t.current.value,password:n.current.value};d.a.auth().signInWithEmailAndPassword(c.email,c.password).then((function(e){console.log("Success"),a.push("/home")})).catch((function(e){console.log("Error: "+e.toString()),alert("Invalid Email/Password Combination"),t.current.value="",n.current.value=""}))},className:p.a.form,children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"text",name:"email",placeholder:"Email",ref:t}),Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:n}),Object(b.jsx)("div",{className:p.a.btnContainer,children:Object(b.jsx)("button",{children:"Submit"})}),Object(b.jsx)(l.b,{className:p.a.link,to:"/create-account",children:"No Account? Create an Account"})]})]})},g=function(){return Object(b.jsx)("section",{children:Object(b.jsx)(_,{})})},N=n(33),w=n.n(N),y=function(e){var t=e.addMember,n=Object(c.useRef)(),a=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useRef)(),i=Object(c.useRef)();return Object(b.jsxs)("div",{className:w.a.container,children:[Object(b.jsx)("h1",{className:w.a.welcome,children:"Become a Member"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=n.current.value,o=a.current.value,l=s.current.value,u=r.current.value,j=i.current.value;t({fname:c,lname:o,email:l,password:u,cpassword:j})},className:w.a.form,children:[Object(b.jsx)("label",{children:"First Name"}),Object(b.jsx)("input",{type:"text",placeholder:"First Name",ref:n}),Object(b.jsx)("label",{children:"Last Name"}),Object(b.jsx)("input",{type:"text",placeholder:"Last Name",ref:a}),Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"email",placeholder:"Email",ref:s}),Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",placeholder:"Password",ref:r}),Object(b.jsx)("label",{children:"Confirm Password"}),Object(b.jsx)("input",{type:"password",placeholder:"Confirm Password",ref:i,className:i!==r?w.a.incPass:"input"}),Object(b.jsx)("div",{className:w.a.btnContainer,children:Object(b.jsx)("button",{children:"Create Account"})})]})]})},C=function(){var e=Object(o.f)();return Object(b.jsx)("section",{children:Object(b.jsx)(y,{addMember:function(t){d.a.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(n){!function(e){d.a.database().ref("users/"+e.uid).set(e).catch((function(e){console.log(e.message)}))}({fname:t.fname,lname:t.lname,uid:n.user.uid,email:t.email}),e.push("/home")})).catch((function(e){console.log("Error: "+e.toString())}))}})})},E=n(39),I=n.n(E),L=function(e){var t,n=e.eventInfo,c=e.user;function s(e,t){d.a.database().ref("events/"+e.eventId+"/attendeeUids").set(t).catch((function(e){console.log(e.message)}))}return t=n.adminUid===c.uid?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"Admin"}),Object(b.jsx)("button",{className:I.a.btn,onClick:function(){alert("Function not implemented yet.")},children:"Delete"})]}):n.attendeeUids.includes(c.uid)?Object(b.jsx)("button",{className:I.a.btn,onClick:function(){var e=n.attendeeUids.filter((function(e){return c.uid!==e}));s(n,e),alert("Registration for ".concat(n.name," has been cancelled"))},children:"UnRegister"}):Object(b.jsx)("button",{className:I.a.btn,onClick:function(){var e=n.attendeeUids;e.push(c.uid),s(n,e),alert("You are now registered for this event ".concat(n.name))},children:"Register"}),Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)("td",{children:Object(b.jsx)(l.b,{to:{pathname:"/event-info",state:{event:n}},className:I.a.evtBtn,children:n.name})}),Object(b.jsx)("td",{children:n.date}),Object(b.jsx)("td",{children:n.address}),Object(b.jsx)("td",{children:n.attendeeUids?n.attendeeUids.length:0}),Object(b.jsx)("td",{children:n.description}),Object(b.jsx)("td",{children:t})]})},S=n(63),k=n.n(S),U=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=d.a.auth().currentUser;return Object(c.useEffect)((function(){var e=new Date;d.a.database().ref("events").once("value",(function(t){var n=t.val(),c=[];for(var s in n)c.push(n[s]);var r=c.filter((function(t){return new Date(t.date)>=e}));a(r)}))})),Object(b.jsxs)("div",{className:k.a.container,children:[Object(b.jsx)("h1",{className:k.a.list,children:"List of Upcoming Events"}),0===n.length?Object(b.jsx)("p",{children:"There are no events planned."}):Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Event"}),Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{children:"Address"}),Object(b.jsx)("th",{children:"Players"}),Object(b.jsx)("th",{children:"Description"}),Object(b.jsx)("th",{})]})}),Object(b.jsx)("tbody",{children:n.map((function(e,t){return Object(b.jsx)("tr",{children:Object(b.jsx)(L,{eventInfo:e,user:s})},t)}))})]})]})},A=n(69),M=n.n(A),P=n(47),F=n.n(P),R=(n(92),n(93),function(e){var t=e.onAddEvent,n=Object(c.useState)(new Date),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(c.useRef)();return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:F.a.welcome,children:"Create a New Event"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=o.current.value,c=l.current.value,a=u.current.value,r={eventName:n,eventDate:s.toLocaleString("en-us",{weekday:"long",month:"short",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"}),eventAddress:c,eventDescription:a};t(r),o.current.value="",l.current.value="",u.current.value=""},className:F.a.form,children:[Object(b.jsx)("label",{children:"Event Name"}),Object(b.jsx)("input",{type:"text",placeholder:"Event Name",ref:o}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Date of Event"}),Object(b.jsx)(M.a,{selected:s,onChange:function(e){r(e)},showTime:{use12hours:!0},showTimeSelect:!0,timeFormat:"h:mm aa",timeIntervals:30,timeCaption:"Select Time",dateFormat:"MMMM d, yyyy h:mm aa"})]}),Object(b.jsx)("label",{children:"Event Address"}),Object(b.jsx)("input",{type:"text",placeholder:"Address",ref:l}),Object(b.jsx)("label",{children:"Event Description"}),Object(b.jsx)("textarea",{id:"description",required:!0,rows:"3",ref:u}),Object(b.jsx)("div",{className:F.a.btnContainer,children:Object(b.jsx)("button",{children:"Create Event"})})]})]})}),D=n(64),B=n.n(D),T=function(){var e=d.a.auth().currentUser,t=new Date;return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:B.a.container,children:Object(b.jsx)(R,{onAddEvent:function(n){var c=d.a.database().ref("events").push(),a=c.key,s={name:n.eventName,date:n.eventDate.toString(),address:n.eventAddress,description:n.eventDescription,adminUid:e.uid,attendeeUids:[e.uid],eventId:a};c.set(s).catch((function(e){console.log(e.message)})),function(e,n){var c=d.a.database().ref("chatRooms").child(n),a={eventName:e.eventName,eventId:n,messages:[{dateSent:t.toLocaleString("en-us",{weekday:"long",month:"short",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"}),uid:"0000000",name:"Bot",message:"Welcome!"}]};c.set(a).catch((function(e){console.log(e.message)}))}(n,a)}})}),Object(b.jsx)("section",{className:B.a.container,children:Object(b.jsx)(U,{})})]})},W=n(48),z=n.n(W),H=n.p+"static/media/goldengg.9e79c532.jpeg",G=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("section",{className:z.a.container,children:Object(b.jsx)("img",{className:z.a.image,src:H,alt:"pickup-futbol"})}),Object(b.jsx)("section",{className:z.a.container,children:Object(b.jsx)("h1",{children:"Create an account to view upcoming games, start an event and chat with players attending the same event!"})})]})},J=n(27),V=n.n(J),X=n(72),Z=n.n(X),K=function(e){var t=e.chatLog,n=e.user,a=e.chatInfo,s=e.playerInfo,r=(e.currentUser,Object(c.useRef)());return Object(b.jsx)("form",{onSubmit:function(e){var c;e.preventDefault(),s.forEach((function(e){n.uid===e.uid&&(c=e.fname)}));var i,o=r.current.value,l={dateSent:(new Date).toLocaleString("en-us",{weekday:"long",month:"short",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"}),uid:n.uid,name:c,message:o};t.push(l),i=t,d.a.database().ref("chatRooms/"+a.eventId+"/messages").set(i).catch((function(e){console.log(e.message)})),r.current.value=""},children:Object(b.jsx)("input",{placeholder:"Chat Here",className:Z.a.chatBox,ref:r,type:"text",on:!0})})},Y=function(e){var t=e.playerInfo,n=e.event,a=e.currentUser,s=d.a.auth().currentUser,r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)([]),h=Object(i.a)(j,2),m=h[0],f=h[1],O=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e;d.a.database().ref("chatRooms/"+n.eventId).once("value",(function(e){var t=e.val(),n=[];n.push(t),u(n)})),l.forEach((function(e){f(e.messages)})),null===(e=O.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}),[l,n.eventId]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("ul",{className:V.a.chatUi,children:[m.map((function(e,t){return Object(b.jsxs)("li",{className:e.uid===s.uid?V.a.myMsg:V.a.msgList,children:[Object(b.jsx)("div",{className:V.a.name,children:e.name}),Object(b.jsx)("div",{className:e.uid===s.uid?V.a.myMsgText:V.a.msg,children:e.message})]},t)})),Object(b.jsx)("div",{ref:O})]}),Object(b.jsx)("section",{onClick:!0,children:Object(b.jsx)(K,{chatLog:m,user:s,chatInfo:n,playerInfo:t,currentUser:a})})]})},q=n(49),Q=n.n(q),$=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({}),r=Object(i.a)(s,2),l=r[0],u=r[1],j=d.a.auth().currentUser,h=Object(o.g)().state.event,m=h.attendeeUids;return Object(c.useEffect)((function(){var e=[];d.a.database().ref("users").once("value",(function(t){var n=t.val(),c=Object.keys(n);m.forEach((function(t){c.forEach((function(c){c===t?e.push(n[c]):c===j.uid&&u(n[c])}))})),a(e)}))}),[m,j.uid]),Object(b.jsxs)("div",{className:Q.a.container,children:[Object(b.jsxs)("h1",{children:[h.name," Player List"]}),Object(b.jsxs)("table",{className:Q.a.playerTbl,children:[Object(b.jsx)("thead",{children:Object(b.jsx)("th",{children:"Player Names"})}),Object(b.jsx)("tbody",{children:n.map((function(e,t){return Object(b.jsx)("tr",{children:Object(b.jsx)("td",{children:e.fname+" "+e.lname})},t)}))})]}),Object(b.jsxs)("section",{className:Q.a.chatCtr,children:[Object(b.jsx)("h2",{children:"Pick Up Game Chat"}),Object(b.jsx)(Y,{playerInfo:n,currentUser:l,event:h})]})]})};var ee=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){d.a.auth().onAuthStateChanged((function(e){a(e||null)}))})),Object(b.jsx)(m,{children:n?Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/home",exact:!0,children:Object(b.jsx)(x,{})}),Object(b.jsx)(o.a,{path:"/events",children:Object(b.jsx)(T,{})}),Object(b.jsx)(o.a,{path:"/event-info",children:Object(b.jsx)($,{})})]}):Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(G,{})}),Object(b.jsx)(o.a,{path:"/login",children:Object(b.jsx)(g,{})}),Object(b.jsx)(o.a,{path:"/create-account",children:Object(b.jsx)(C,{})})]})})};r.a.render(Object(b.jsx)(l.a,{basename:"/",children:Object(b.jsx)(ee,{})}),document.getElementById("root"))},27:function(e,t,n){e.exports={chatUi:"MessageList_chatUi__3yrDw",msgList:"MessageList_msgList__XHoSz",name:"MessageList_name__TP62h",msg:"MessageList_msg__3fVtO",myMsg:"MessageList_myMsg__1-n5R",myMsgText:"MessageList_myMsgText__4yhEt"}},32:function(e,t,n){e.exports={welcome:"Login_welcome__3ZIW-",invalidLogin:"Login_invalidLogin__1cm_I",form:"Login_form__3ine3",container:"Login_container__3MN49",link:"Login_link__17VIS",btnContainer:"Login_btnContainer__14hjc"}},33:function(e,t,n){e.exports={welcome:"CreateAccountForm_welcome__2-RpX",form:"CreateAccountForm_form__2DxT7",container:"CreateAccountForm_container___sYgL",btnContainer:"CreateAccountForm_btnContainer__1GrZa",incPass:"CreateAccountForm_incPass__3cuxx"}},38:function(e,t,n){e.exports={header:"NavBar_header__3UEfz",logo:"NavBar_logo__xjK0f",active:"NavBar_active__2R7M8",badge:"NavBar_badge__1khH-"}},39:function(e,t,n){e.exports={btn:"EventItem_btn__MUkp3",evtBtn:"EventItem_evtBtn__3hF-_"}},47:function(e,t,n){e.exports={welcome:"CreateEventForm_welcome__2_ii6",form:"CreateEventForm_form__2AdT8",container:"CreateEventForm_container__2GMtu",btnContainer:"CreateEventForm_btnContainer__3QukC",incPass:"CreateEventForm_incPass__18caG"}},48:function(e,t,n){e.exports={container:"WelcomePage_container__2NOVs",image:"WelcomePage_image__3ALw5"}},49:function(e,t,n){e.exports={container:"EventInfo_container__vMZqs",playerTbl:"EventInfo_playerTbl__1BkCx",chatCtr:"EventInfo_chatCtr__1VEJy"}},62:function(e,t,n){e.exports={welcome:"Home_welcome__4uOJI",container:"Home_container__32mz5"}},63:function(e,t,n){e.exports={container:"EventsList_container__2IvCU",list:"EventsList_list__2CeUI"}},64:function(e,t,n){e.exports={welcome:"Events_welcome__2OXrc",container:"Events_container__Cc5Ef"}},72:function(e,t,n){e.exports={container:"ChatBox_container__2M4WA",chatBox:"ChatBox_chatBox__1Uta5"}},79:function(e,t,n){},80:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.febcdc94.chunk.js.map