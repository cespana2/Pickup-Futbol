(this["webpackJsonpreact-futbol"]=this["webpackJsonpreact-futbol"]||[]).push([[0],{152:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),s=n(41),r=n.n(s),i=(n(94),n(13)),o=n(11),l=(n(95),n(16)),u=n(29),d=n.n(u),j=(n(96),n(61));j.a.initializeApp({apiKey:"AIzaSyAtj6621uv5LbOzYPnC7ozX1FbK6QtrEwM",authDomain:"pickup-futbol.firebaseapp.com",databaseURL:"https://pickup-futbol-default-rtdb.firebaseio.com",projectId:"pickup-futbol",storageBucket:"pickup-futbol.appspot.com",messagingSenderId:"950393325921",appId:"1:950393325921:web:5bb039ed92a52eaefe5d20",measurementId:"G-N6263PM8FZ"});var b=n.p+"static/media/Pickup Futbol1.c1e7d851.png",m=n(74),h=n(2),O=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),o=r[0],u=r[1];return Object(c.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){a(e||null)}))}),[n]),n?Object(h.jsxs)("header",{className:d.a.header,children:[Object(h.jsx)("div",{className:d.a.logo,children:Object(h.jsx)("img",{src:b,alt:"pickup-logo",width:"120px"})}),Object(h.jsx)("nav",{className:"".concat(o?" ":d.a.nav),children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/home",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/events",children:"Events"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/",onClick:function(){j.a.auth().signOut().then((function(){console.log("Succesfully Logged Out.")})).catch((function(e){console.log(e.message)}))},children:"Sign Out"})})]})}),Object(h.jsx)("div",{className:d.a.respNav,children:Object(h.jsx)(m.a,{onToggle:function(){u(!o)},size:30})})]}):Object(h.jsxs)("header",{className:d.a.header,children:[Object(h.jsx)("div",{className:d.a.logo,children:Object(h.jsx)(l.b,{to:"/",children:Object(h.jsx)("img",{src:b,alt:"pickup-logo",width:"120px"})})}),Object(h.jsx)("nav",{children:Object(h.jsx)("ul",{children:Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/login",children:"Login"})})})})]})};var f=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{}),Object(h.jsx)("main",{children:e.children}),Object(h.jsx)("footer",{style:{position:"absolute",bottom:0,textAlign:"center",width:"100%",marginTop:"-200px"},children:Object(h.jsx)("p",{children:"\xa9 Carlos Alberto Espana Jr."})})]})},v=n(65),x=n.n(v),p=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];function s(){j.a.auth().onAuthStateChanged((function(e){var t;e&&(t=e.uid,j.a.database().ref("users/"+t).once("value",(function(e){a(e.val())})))}))}return Object(c.useEffect)((function(){s()})),Object(h.jsxs)("div",{className:x.a.container,children:[Object(h.jsxs)("h1",{className:x.a.welcome,children:["Welcome ",n.fname," ",n.lname]}),Object(h.jsx)("p",{style:{textAlign:"center"},children:"Click on the events tab to checkout upcoming events or create one!"})]})},g=n(23),_=n(35),N=n.n(_),y=function(e){e.member,e.findMember;var t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(o.f)();return Object(h.jsxs)("div",{className:N.a.container,children:[Object(h.jsx)("h1",{className:N.a.welcome,children:"Login"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={email:t.current.value,password:n.current.value};j.a.auth().signInWithEmailAndPassword(c.email,c.password).then((function(e){console.log("Success"),a.push("/home")})).catch((function(e){console.log("Error: "+e.toString()),alert("Invalid Email/Password Combination"),t.current.value="",n.current.value=""}))},className:N.a.form,children:[Object(h.jsx)("input",{type:"text",name:"email",placeholder:"Email",ref:t}),Object(h.jsx)("input",{type:"password",name:"password",placeholder:"Password",ref:n}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:N.a.lgnBtn,children:"Login"})}),Object(h.jsx)(l.b,{className:N.a.link,to:"/create-account",children:"No Account? Create an Account"})]})]})},E=function(){var e;return Object(h.jsx)("div",{style:(e={background:"rgb(2, 0, 36)"},Object(g.a)(e,"background","linear-gradient(90deg,rgba(2, 0, 36, 1) 0%,rgba(9, 9, 121, 1) 16%,rgba(0, 212, 255, 1) 100%)"),Object(g.a)(e,"minHeight","100vh"),Object(g.a)(e,"display","flex"),e),children:Object(h.jsx)(y,{})})},C=n(36),w=n.n(C),k=function(e){var t=e.addMember,n=Object(c.useRef)(),a=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(c.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1];return Object(h.jsxs)("div",{className:w.a.container,children:[Object(h.jsx)("h1",{children:"Become a Member"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=n.current.value,i=a.current.value,l=s.current.value,u=r.current.value,d=o.current.value;u==d?t({fname:c,lname:i,email:l,password:u,cpassword:d}):j(!0)},className:w.a.form,children:[Object(h.jsx)("input",{type:"text",placeholder:"First Name",ref:n,required:!0}),Object(h.jsx)("input",{type:"text",placeholder:"Last Name",ref:a,required:!0}),Object(h.jsx)("input",{type:"email",placeholder:"Email",ref:s,required:!0}),Object(h.jsx)("input",{type:"password",placeholder:"Password",ref:r,onChange:function(){d&&j(!1)},required:!0}),Object(h.jsx)("input",{type:"password",placeholder:"Confirm Password",ref:o,onChange:function(){d&&j(!1)},className:d?w.a.incPass:"",required:!0}),d&&Object(h.jsx)("p",{className:w.a.error,children:"Passwords do not match"}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:w.a.acctBtn,children:"Create Account"})})]})]})},I=function(){var e,t=Object(o.f)();return Object(h.jsx)("div",{style:(e={background:"rgb(2, 0, 36)"},Object(g.a)(e,"background","linear-gradient(90deg,rgba(2, 0, 36, 1) 0%,rgba(9, 9, 121, 1) 16%,rgba(0, 212, 255, 1) 100%)"),Object(g.a)(e,"minHeight","100vh"),Object(g.a)(e,"display","flex"),e),children:Object(h.jsx)(k,{addMember:function(e){j.a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(n){!function(e){j.a.database().ref("users/"+e.uid).set(e).catch((function(e){console.log(e.message)}))}({fname:e.fname,lname:e.lname,uid:n.user.uid,email:e.email}),t.push("/home")})).catch((function(e){console.log("Error: "+e.toString())}))}})})},L=n(44),S=n.n(L),B=function(e){var t,n=e.eventInfo,c=e.user,s=e.selected;function r(e,t){j.a.database().ref("events/"+e.eventId+"/attendeeUids").set(t).catch((function(e){console.log(e.message)}))}return t=n.adminUid===c.uid?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("button",{className:S.a.btn,onClick:function(){alert("Function not implemented yet.")},children:"Delete"})}):n.attendeeUids.includes(c.uid)?Object(h.jsx)("button",{className:S.a.btn,onClick:function(){var e=n.attendeeUids.filter((function(e){return c.uid!==e}));r(n,e),alert("You are no longer registered for this event.")},children:"UnRegister"}):Object(h.jsx)("button",{className:S.a.btn,onClick:function(){var e=n.attendeeUids;e.push(c.uid),r(n,e),alert("You are now registered for this event.")},children:"Register"}),Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(l.b,{to:{pathname:"/events",state:{event:n}},className:S.a.evtBtn,children:Object(h.jsxs)("td",{style:{textAlign:"left",paddingLeft:"10px"},children:[Object(h.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"black",marginBottom:0},children:n.name}),Object(h.jsx)("p",{style:{fontSize:"12px",fontWeight:"normal",color:s?"black":"gray",paddingLeft:"5px"},children:n.date})]})}),Object(h.jsx)("td",{style:{width:"20%"},children:t})]})},P=n(37),A=n.n(P),M=n(70),U=n.n(M),R=n(38),F=n.n(R),D=(n(107),n(108),function(e){var t=e.onAddEvent,n=Object(c.useState)(new Date),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(c.useRef)();return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:F.a.welcome,children:"Create a New Event"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=o.current.value.trim(),c=l.current.value.trim(),a=u.current.value.trim(),r={eventName:n,eventDate:s.toLocaleString("en-us",{weekday:"long",month:"short",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"}),eventAddress:c,eventDescription:a};t(r),o.current.value="",l.current.value="",u.current.value=""},className:F.a.form,children:[Object(h.jsx)("label",{children:"Event Name"}),Object(h.jsx)("input",{type:"text",placeholder:"Event Name",ref:o,required:!0}),Object(h.jsxs)("div",{className:F.a.formGroup,children:[Object(h.jsx)("label",{children:"Date of Event"}),Object(h.jsx)(U.a,{selected:s,onChange:function(e){r(e)},showTime:{use12hours:!0},showTimeSelect:!0,timeFormat:"h:mm aa",timeIntervals:30,timeCaption:"Select Time",dateFormat:"MMMM d, yyyy h:mm aa",calendarClassName:F.a.datePicker})]}),Object(h.jsx)("label",{children:"Event Address"}),Object(h.jsx)("input",{type:"text",placeholder:"Address",ref:l,required:!0}),Object(h.jsx)("label",{children:"Event Description"}),Object(h.jsx)("textarea",{id:"description",required:!0,rows:"3",ref:u}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:F.a.evtBtn,children:"Create Event"})})]})]})}),T=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(c.useState)(null),d=Object(i.a)(u,2),b=d[0],m=d[1],O=j.a.auth().currentUser,f=new Date;return Object(c.useEffect)((function(){var e=new Date;j.a.database().ref("events").once("value",(function(t){var n=t.val(),c=Object.values(n).filter((function(t){return new Date(t.date)>=e}));a(c)}))}),[n]),Object(h.jsxs)("div",{className:A.a.container,children:[Object(h.jsx)("h1",{className:A.a.list,children:"Upcoming Events"}),Object(h.jsx)("button",{className:A.a.eventBtn,onClick:function(){return l(!o)},type:"button","data-toggle":"modal",children:"New Event"}),o&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:A.a.backdrop,isOpen:o}),Object(h.jsxs)("div",{className:A.a.popUp,children:[Object(h.jsx)("span",{class:"material-symbols-outlined",style:{marginLeft:"auto",marginRight:"10px",cursor:"pointer"},onClick:function(){return l(!o)},children:"close"}),Object(h.jsx)(D,{onAddEvent:function(e){var t=j.a.database().ref("events").push(),n=t.key,c={name:e.eventName,date:e.eventDate.toString(),address:e.eventAddress,description:e.eventDescription,adminUid:O.uid,attendeeUids:[O.uid],eventId:n};t.set(c).catch((function(e){console.log(e.message)})),function(e,t){var n=j.a.database().ref("chatRooms").child(t),c={eventName:e.eventName,eventId:t,messages:[{dateSent:f.toLocaleString("en-us",{weekday:"long",month:"short",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"}),uid:"0000000",name:"Bot",message:"Welcome!"}]};n.set(c).catch((function(e){console.log(e.message)}))}(e,n),l(!o)},setIsOpen:l})]})]}),0===n.length?Object(h.jsx)("p",{children:"There are no events planned."}):Object(h.jsx)("table",{style:{textAlign:"left",borderRadius:"10px",border:"1px solid lightgray"},children:Object(h.jsx)("tbody",{children:n.map((function(e,t){return Object(h.jsx)("tr",{onClick:function(){return function(e){m(e)}(t)},className:b===t?"selected-row":"",style:{backgroundColor:b===t?"#ADD8E6":"inherit"},children:Object(h.jsx)(B,{eventInfo:e,user:O,selected:b===t})},t)}))})})]})},W=n(52),q=n.n(W),z=n(30),G=n.n(z),H=n(73),J=n.n(H),Y=function(e){var t=e.chatLog,n=e.user,a=e.chatInfo,s=e.playerInfo,r=(e.currentUser,Object(c.useRef)());return Object(h.jsx)("form",{onSubmit:function(e){var c;e.preventDefault(),s.forEach((function(e){n.uid===e.uid&&(c=e.fname)}));var i,o=r.current.value,l={dateSent:(new Date).toLocaleString("en-us",{weekday:"long",month:"short",day:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:"true"}),uid:n.uid,name:c,message:o};t.push(l),i=t,j.a.database().ref("chatRooms/"+a.eventId+"/messages").set(i).catch((function(e){console.log(e.message)})),r.current.value=""},style:{display:"grid",placeItems:"center"},children:Object(h.jsx)("input",{placeholder:"Chat Here",className:J.a.chatBox,ref:r,type:"text",on:!0})})},V=function(e){var t=e.playerInfo,n=e.event,a=e.currentUser,s=j.a.auth().currentUser,r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),m=b[0],O=b[1],f=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e;j.a.database().ref("chatRooms/"+n.eventId).once("value",(function(e){var t=e.val(),n=[];n.push(t),u(n)})),l.forEach((function(e){O(e.messages)})),null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}),[l,n.eventId]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("ul",{className:G.a.chatUi,children:[m.map((function(e,t){return Object(h.jsxs)("li",{className:e.uid===s.uid?G.a.myMsg:G.a.msgList,children:[Object(h.jsx)("div",{className:G.a.name,children:e.name}),Object(h.jsx)("div",{className:e.uid===s.uid?G.a.myMsgText:G.a.msg,children:e.message})]},t)})),Object(h.jsx)("div",{ref:f})]}),Object(h.jsx)("section",{onClick:!0,children:Object(h.jsx)(Y,{chatLog:m,user:s,chatInfo:n,playerInfo:t,currentUser:a})})]})},X=n(39),K=n.n(X),Q=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({}),r=Object(i.a)(s,2),l=r[0],u=r[1],d=j.a.auth().currentUser,b=Object(o.g)(),m=b.state.event,O=m.attendeeUids;return console.log(b),Object(c.useEffect)((function(){var e=[];j.a.database().ref("users").once("value",(function(t){var n=t.val(),c=Object.keys(n);O.forEach((function(t){c.forEach((function(c){c===t?e.push(n[c]):c===d.uid&&u(n[c])}))})),a(e)}))}),[O,d.uid]),Object(h.jsxs)("div",{className:K.a.container,children:[Object(h.jsxs)("div",{className:K.a.chat,children:[Object(h.jsx)("h1",{style:{marginBottom:"20px"},children:m.name}),Object(h.jsx)("section",{className:K.a.chatCtr,children:Object(h.jsx)(V,{playerInfo:n,currentUser:l,event:m})})]}),Object(h.jsxs)("div",{className:K.a.details,children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Details"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Date: "}),m.date]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Location: "}),m.address]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Description: "}),m.description]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Player List"}),Object(h.jsxs)("table",{className:K.a.playerTbl,children:[Object(h.jsx)("thead",{children:Object(h.jsx)("th",{children:"Player Names"})}),Object(h.jsx)("tbody",{children:n.map((function(e,t){return Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:e.fname+" "+e.lname})},t)}))})]})]})]})]})},Z=function(){var e,t=null===(e=Object(o.g)().state)||void 0===e?void 0:e.event;return Object(h.jsxs)("div",{className:q.a.mainContainer,children:[Object(h.jsx)("section",{className:q.a.eventsContainer,children:Object(h.jsx)(T,{})}),Object(h.jsx)("section",{className:q.a.container,children:t?Object(h.jsx)(Q,{}):Object(h.jsx)("p",{style:{textAlign:"center",marginTop:"15px"},children:"No event selected."})})]})},$=n(26),ee=n.n($),te=(n.p,n.p+"static/media/soccer-player.521b63a5.png"),ne=function(){var e=Object(o.f)();return Object(h.jsx)("div",{className:ee.a.background,children:Object(h.jsxs)("div",{className:ee.a.mainContainer,children:[Object(h.jsxs)("div",{className:ee.a.container,children:[Object(h.jsx)("h1",{className:ee.a.title,children:"Welcome to Pickup Futbol"}),Object(h.jsx)("p",{className:ee.a.description,children:"Sign up to access upcoming pickup soccer matches, organize your own games, and engage in conversations with fellow participants attending the match!"}),Object(h.jsx)("button",{className:ee.a.button,onClick:function(){e.push("/create-account")},children:"Create Account"})]}),Object(h.jsx)("div",{className:ee.a.soccerBall,children:Object(h.jsx)("img",{src:te,alt:"soccer-player",width:"100%"})})]})})};var ce=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){a(e||null)}))})),Object(h.jsx)(f,{children:n?Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/home",exact:!0,children:Object(h.jsx)(p,{})}),Object(h.jsx)(o.a,{path:"/events",children:Object(h.jsx)(Z,{})}),Object(h.jsx)(o.a,{path:"/event-info",children:Object(h.jsx)(Q,{})})]}):Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",exact:!0,children:Object(h.jsx)(ne,{})}),Object(h.jsx)(o.a,{path:"/login",children:Object(h.jsx)(E,{})}),Object(h.jsx)(o.a,{path:"/create-account",children:Object(h.jsx)(I,{})})]})})};r.a.render(Object(h.jsx)(l.a,{basename:"/",children:Object(h.jsx)(ce,{})}),document.getElementById("root"))},26:function(e,t,n){e.exports={background:"WelcomePage_background__3janJ",mainContainer:"WelcomePage_mainContainer__1MqNR",container:"WelcomePage_container__2NOVs",title:"WelcomePage_title__3HnQ-",description:"WelcomePage_description__2IIJ-",button:"WelcomePage_button__pMrCV",soccerBall:"WelcomePage_soccerBall__2IvCO"}},29:function(e,t,n){e.exports={header:"NavBar_header__3UEfz",logo:"NavBar_logo__xjK0f",active:"NavBar_active__2R7M8",respNav:"NavBar_respNav__3yV2Y",respList:"NavBar_respList__2RROa",togRespList:"NavBar_togRespList__Xgyx0",nav:"NavBar_nav__ufiY8"}},30:function(e,t,n){e.exports={chatUi:"MessageList_chatUi__3yrDw",msgList:"MessageList_msgList__XHoSz",name:"MessageList_name__TP62h",msg:"MessageList_msg__3fVtO",myMsg:"MessageList_myMsg__1-n5R",myMsgText:"MessageList_myMsgText__4yhEt"}},35:function(e,t,n){e.exports={container:"Login_container__3MN49",form:"Login_form__3ine3",lgnBtn:"Login_lgnBtn__3qhEj",link:"Login_link__17VIS"}},36:function(e,t,n){e.exports={container:"CreateAccountForm_container___sYgL",form:"CreateAccountForm_form__2DxT7",acctBtn:"CreateAccountForm_acctBtn__3e1ib",incPass:"CreateAccountForm_incPass__3cuxx",corPass:"CreateAccountForm_corPass__-p6ci"}},37:function(e,t,n){e.exports={container:"EventsList_container__2IvCU",list:"EventsList_list__2CeUI",eventBtn:"EventsList_eventBtn__2iqFU",popUp:"EventsList_popUp__3h6GL",backdrop:"EventsList_backdrop__3bRq2"}},38:function(e,t,n){e.exports={welcome:"CreateEventForm_welcome__2_ii6",form:"CreateEventForm_form__2AdT8",formGroupd:"CreateEventForm_formGroupd__3Y55J",datePicker:"CreateEventForm_datePicker__3Sogi",container:"CreateEventForm_container__2GMtu",incPass:"CreateEventForm_incPass__18caG",evtBtn:"CreateEventForm_evtBtn__1MC68"}},39:function(e,t,n){e.exports={container:"EventInfo_container__vMZqs",playerTbl:"EventInfo_playerTbl__1BkCx",chatCtr:"EventInfo_chatCtr__1VEJy",events:"EventInfo_events__7pfGz",chat:"EventInfo_chat__1e9ci",details:"EventInfo_details__3MPi8"}},44:function(e,t,n){e.exports={btn:"EventItem_btn__MUkp3",evtBtn:"EventItem_evtBtn__3hF-_"}},52:function(e,t,n){e.exports={welcome:"Events_welcome__2OXrc",mainContainer:"Events_mainContainer__26axI",container:"Events_container__Cc5Ef",eventsContainer:"Events_eventsContainer__2yrY0"}},65:function(e,t,n){e.exports={welcome:"Home_welcome__4uOJI",container:"Home_container__32mz5"}},73:function(e,t,n){e.exports={chatBox:"ChatBox_chatBox__1Uta5"}},94:function(e,t,n){},95:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.d7e6dfc8.chunk.js.map